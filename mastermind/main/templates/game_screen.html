{% extends "game.html" %}

{% block overlay %}
    <!-- TODO: make dynamic. Before loading the page, check if the player has won and send boolean to page -->
    {% if False %}
    <div class="modal-overlay"></div>
    <div class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <h2 class="modal-title text-center mb-4 fat">WE HAVE A WINNER!</h2>
                    <p class="text-center modal-text">You cracked the code in:</p>
                    <p class="text-center my-4 large-green-text">4 tries!</p>
                </div>
                <div class="text-right p-3">
                    <button>
                        <a href="{{ url_for('main_bp.create') }}">Go to statistics</a>
                    </button>
                    <button>
                        <a href="{{ url_for('main_bp.users_overview') }}">Play again</a>
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
{% endblock %}

{% block outside_box_class %}
    min-width-630px
{%  endblock %}

{% block side_bar %}
    <h4 class="fat text-center my-4 px-4 text-break">Good luck, {{ player_name }}!</h4>
    <div class="box-content mr-4 ml-4 p-0">
        <div class="border-container">
            <div class="border-container-content mb-2">
                <div class="border-container-title font-bold mb-3">
                    Colors
                </div>
                <div class="colors">
                    {% for item in game_sequence %}
                        <div class="color draggable-color draggable {{ item.name.lower() }}" draggable="true" value="{{ item.id }}"></div>
                    {% endfor %}
                </div>
            </div>
            <div class="button-container">
                <button>
                    <a class="px-3 mx-auto">Apply Code</a>
                </button>
            </div>
            <div class="position-relative">
                <div class="dragZone">

                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block main %}
    <div class="container-content full-width">
        {% for n in range(13) %}
            <div class="row margin-bottom-5px">
                <div class="col-md-9">
                    <div class="guess-wrapper {{ 'green' if n == 12 }}">
                    {% for n in range(amount_of_pins) %}
<!--                        TODO: Add disabled attribute to div based on current attempt.-->
                        <div class="color color-slot dropZone" disabled="false"></div>
                    {% endfor %}
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="hint-square">
                    {% for n in range(amount_of_pins) %}
                        <div class="hint-slot"></div>
                    {% endfor %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}
